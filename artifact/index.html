---
layout: default
---

<div class="row">
<div class="col-md-6 col-md-offset-3">
<h1>Introduction</h1>
<p>
    We provide a VirtualBox Virtual Machine file as a our artifact. The compressed tar gzip file is available for download <a href="https://drive.google.com/file/d/16ijdYhaQO1Qxwrb3mOREMG-SMVuG_GZ3/view?usp=sharing">here</a>.
  </p>
<p>
    Our artifact contains installed Ubuntu 14.04 with OpenWhisk and SPL already deployed. In addition we have also already deployed SPL and OpenWhisk Conductor Actions that we used for the evaluation. Users can directly invoke these actions to compare the performance. Our artifacts supports has following two benchmarks:
    
    <ul>
      <li>Concurrent Invocations experiment: SPL is consistently faster than OpenWhisk Conductor with increasing concurrent invocations. </li>
      <li> Request Size experiment: SPL is consistently faster than OpenWhisk Conductor for increasing request size.</li>
    </ul>
  </p>

<h2>Getting Started</h2>
<p><b>Prerequisites</b>: Virtual Box 6.0. 60 GB Disk space. x86 Intel CPU with 4 cores or more with at least 8 GB of RAM.
</p>
<p><b>Setting up VirtualBox VM</b>: Following steps will extract and add the Virtual Machine.
<ul>
  <li>Extract the openwhisk.tar.gz to folder openwhisk.</li>
  <li>Open VirtualBox 6.0.</li>
  <li>Click on Tools.</li>
  <li>Click on + button in the toolbar.Add openwhisk-1.16-linux.vbox in openwhisk folder.</li>
</ul>
</p>
<p> <b>Starting OpenWhisk</b>: 
  <ul>
    <li>Start the VM.</li>
    <li>Open a terminal in host machine and ssh into the machine:
      <ul>
          <li>ssh -p 3022 abhinav@127.0.0.1</li>
          <li>Type abhinav as password</li>
      </ul>
    <li>Start OpenWhisk by executing:</li>
      <ul>
        <li>sudo chown -R abhinav:abhinav /tmp/wsk*</li>
        <li>cd openwhisk/ansible</li>
        <li>ansible-playbook -i environments/local openwhisk.yml -e mode=clean</li>
        <li>ansible-playbook -i environments/local openwhisk.yml</li>
      </ul>
    <li>To test if OpenWhisk is running, execute:
      <ul>
          <li>wsk -i namespace list</li>
          <li>The output should display guest namespace</li>
      </ul>
    </li>
    <li>To test if OpenWhisk contains all required actions, execute:</li>
    <ul>
      <li>wsk -i action list</li>
      <li>The output should display several available actions</li>
    </ul>
  <li>To test if OpenWhisk Conductor actions is running, invoke the deployed action by executing:</li>
  <ul>
    <li>cd ~/openwhisk-scripts/</li>
    <li>wsk -i action invoke conductorCost --param-file param-test.js -b -r </li>
    <li>The output should show a json with "test" value field "text".</li>
  </ul>

  <ul>To test if SPL actions is running execute, invoke the deployed action by executing:
  <li>cd ~/openwhisk-scripts/</li>
  <li> wsk -i action invoke Program_kQw1UFK8u2 --param-file param-test.js -b -r</li>
  <li>The output should show a json with "test" value field "text".</li>
</ul>
</ul>
</p>

<h1>Step by Step Instructions</h1>
<p>After setting up the machine in Getting Started Guide. You can run above mentioned experiments.</p>
<p>
  To run Concurrent invocations experiment:
  <ul>
    <li>Follow instructions in Getting Started guide to start the machine and OpenWhisk</li>
    <li>Change to the directory containing scripts</li>
      <ul><li>cd ~/openwhisk-scripts/</li></ul>
    <li>Execute this experiment with 1 invocation to 28 concurrent invocations with each experiment running 5 times. Please note that execution will take around 1 hour. All logs generated by this experiment except any Exception thrown can be safely ignored.</li>
        <ul><li>python experiments.py 10 10 5 28 conductor,spl load</li></ul>
        
    <li>All data is stored in ~/openwhisk-scripts/data/function-times.csv</li>
  <li>To produce the graph execute:</li>
      <ul>
        <li>cd R-scripts </li>
        <li>R -f ./whisk-results.R</li>
    </ul>
  <li>You can now view the resulting graph in ~/openwhisk-scripts/whisk-results.pdf. This graph will show that SPL is consistently faster than OpenWhisk conductor with increasing concurrent invocations.</li>
  <li>Since our experiments generates a lot of data, the logs produced by OpenWhisk can occupy significant space. Before powering off the system, we need to clean OpenWhisk logs. To cleanup OpenWhisks logs: </li>
  <ul>
    <li>rm -rf /tmp/wsklogs/*</li>
  </ul>
  <li>Poweroff the system using: </li>
    <ul><li>sudo poweroff</li></ul>
</p>

<p>
    To run Response time vs. request size experiment:
    <ul>
      <li>Follow instructions in Getting Started guide to start the machine and OpenWhisk</li>
      <li>Change to the directory containing scripts</li>
        <ul><li>cd ~/openwhisk-scripts/</li></ul>
      <li>To execute this experiment with parameter sizes of 0 KB to 1 MB with each experiment running 5 times. Please note that execution will take around 1 hour. All logs generated by this experiment except any Exception thrown can be safely ignored.
        </li>
          <ul><li>python experiments.py 10 10 5 1 conductor,spl param
            </li></ul>
          
      <li>All data is stored in ~/openwhisk-scripts/data/whisk/parameter-size/1-invocation.csv</li>
    <li>To produce the graph execute:</li>
        <ul>
          <li>cd R-scripts </li>
          <li>R -f ./param-whisk-results.R</li>
      </ul>
    <li>You can now view the resulting graph in ~/openwhisk-scripts/param-whisk-results.pdf. This graph will show that SPL is consistently faster than OpenWhisk conductor with increasing concurrent invocations.</li>
    <li>Since our experiments generates a lot of data, the logs produced by OpenWhisk can occupy significant space. Before powering off the system, we need to clean OpenWhisk logs. To cleanup OpenWhisks logs: </li>
    <ul>
      <li>rm -rf /tmp/wsklogs/*</li>
    </ul>
    <li>Poweroff the system using: </li>
      <ul><li>sudo poweroff</li></ul>
  </p>
</div>
</div>
